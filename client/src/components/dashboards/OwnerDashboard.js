import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import { useAuth } from '../../context/AuthContext';
import { Box, Typography, Paper, List, ListItemButton, ListItemIcon, ListItemText, Button, Divider, Chip, TableContainer, Table, TableHead, TableBody, TableRow, TableCell, Stack, Card, CardContent, TextField, MenuItem } from '@mui/material';
import { Grid as MuiGrid } from "@mui/material";
// Create a wrapper component for Grid that works with Material UI v5
const Grid = (props) => {
    const { item, ...rest } = props;
    return _jsx(MuiGrid, { ...rest });
};
import { DirectionsCar, ListAlt, AttachMoney, Settings, Message, Notifications, Star, Add, Edit, Visibility, Check, Cancel } from '@mui/icons-material';
const sidebarItems = [
    { id: 'listings', label: 'My Listings', icon: _jsx(DirectionsCar, {}) },
    { id: 'bookings', label: 'Booking Requests', icon: _jsx(ListAlt, {}) },
    { id: 'earnings', label: 'Earnings Overview', icon: _jsx(AttachMoney, {}) },
    { id: 'maintenance', label: 'Car Maintenance', icon: _jsx(Settings, {}) },
    { id: 'reviews', label: 'Customer Reviews', icon: _jsx(Star, {}) },
    { id: 'messages', label: 'Messages', icon: _jsx(Message, {}) },
    { id: 'analytics', label: 'Analytics', icon: _jsx(Notifications, {}) }
];
const OwnerDashboard = () => {
    const auth = useAuth();
    const { user } = auth;
    const [activeSection, setActiveSection] = useState('listings');
    // Function to render main content based on active section
    const renderContent = () => {
        switch (activeSection) {
            case 'listings':
                return (_jsxs(Paper, { elevation: 3, sx: { p: 3 }, children: [_jsxs(Box, { sx: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }, children: [_jsx(Typography, { variant: "h5", children: "My Car Listings" }), _jsx(Button, { variant: "contained", color: "primary", startIcon: _jsx(Add, {}), children: "Add New Car" })] }), _jsxs(Box, { sx: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }, children: [_jsxs(Stack, { direction: "row", spacing: 1, children: [_jsx(Button, { variant: "contained", size: "small", color: "primary", children: "All (5)" }), _jsx(Button, { variant: "outlined", size: "small", color: "inherit", children: "Available (3)" }), _jsx(Button, { variant: "outlined", size: "small", color: "inherit", children: "Rented (2)" })] }), _jsxs(Box, { sx: { display: 'flex', alignItems: 'center' }, children: [_jsx(Typography, { variant: "body2", color: "text.secondary", sx: { mr: 1 }, children: "Sort by:" }), _jsxs(TextField, { select: true, size: "small", defaultValue: "Newest first", variant: "outlined", sx: { minWidth: 150 }, children: [_jsx(MenuItem, { value: "Newest first", children: "Newest first" }), _jsx(MenuItem, { value: "Oldest first", children: "Oldest first" }), _jsx(MenuItem, { value: "Highest earnings", children: "Highest earnings" }), _jsx(MenuItem, { value: "Most popular", children: "Most popular" })] })] })] }), _jsxs(Box, { sx: { display: 'flex', flexWrap: 'wrap', gap: 3 }, children: [_jsx(Box, { sx: { flexBasis: { xs: '100%', sm: '45%', lg: '30%' }, display: 'flex' }, children: _jsxs(Card, { variant: "outlined", children: [_jsxs(Box, { sx: { position: 'relative' }, children: [_jsx(Box, { component: "img", src: "https://via.placeholder.com/300x150", alt: "Car", sx: { width: '100%', height: 200, objectFit: 'cover' } }), _jsx(Chip, { label: "Available", color: "success", size: "small", sx: { position: 'absolute', top: 8, right: 8 } })] }), _jsxs(CardContent, { children: [_jsxs(Box, { sx: { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }, children: [_jsx(Typography, { variant: "h6", component: "div", children: "Toyota Camry 2023" }), _jsx(Typography, { variant: "subtitle1", color: "success.main", fontWeight: "bold", children: "$65/day" })] }), _jsxs(Box, { sx: { display: 'flex', alignItems: 'center', mt: 0.5 }, children: [_jsx(Box, { sx: { color: 'warning.main', display: 'flex' }, children: [1, 2, 3, 4, 5].map(star => _jsx(Star, { fontSize: "small" }, star)) }), _jsx(Typography, { variant: "body2", color: "text.secondary", sx: { ml: 1 }, children: "(12 reviews)" })] }), _jsx(Typography, { variant: "body2", color: "text.secondary", sx: { mt: 1 }, children: "Automatic \u2022 Sedan \u2022 5 Seats" }), _jsx(Typography, { variant: "body2", color: "text.secondary", children: "Location: San Francisco" }), _jsx(Typography, { variant: "body2", color: "text.secondary", sx: { mt: 1.5 }, children: "Booked 8 times in last month" }), _jsxs(Box, { sx: { display: 'flex', justifyContent: 'space-between', mt: 2 }, children: [_jsx(Button, { size: "small", startIcon: _jsx(Edit, {}), color: "primary", children: "Edit" }), _jsx(Button, { size: "small", startIcon: _jsx(Visibility, {}), color: "primary", children: "View details" })] })] })] }) }), _jsx(Box, { sx: { flexBasis: { xs: '100%', sm: '45%', lg: '30%' }, display: 'flex' }, children: _jsxs(Card, { variant: "outlined", children: [_jsxs(Box, { sx: { position: 'relative' }, children: [_jsx(Box, { component: "img", src: "https://via.placeholder.com/300x150", alt: "Car", sx: { width: '100%', height: 200, objectFit: 'cover' } }), _jsx(Chip, { label: "Rented", color: "error", size: "small", sx: { position: 'absolute', top: 8, right: 8 } })] }), _jsxs(CardContent, { children: [_jsxs(Box, { sx: { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }, children: [_jsx(Typography, { variant: "h6", component: "div", children: "Honda Civic 2022" }), _jsx(Typography, { variant: "subtitle1", color: "success.main", fontWeight: "bold", children: "$55/day" })] }), _jsxs(Box, { sx: { display: 'flex', alignItems: 'center', mt: 0.5 }, children: [_jsx(Box, { sx: { color: 'warning.main', display: 'flex' }, children: [1, 2, 3, 4].map(star => _jsx(Star, { fontSize: "small" }, star)) }), _jsx(Typography, { variant: "body2", color: "text.secondary", sx: { ml: 1 }, children: "(8 reviews)" })] }), _jsx(Typography, { variant: "body2", color: "text.secondary", sx: { mt: 1 }, children: "Automatic \u2022 Sedan \u2022 5 Seats" }), _jsx(Typography, { variant: "body2", color: "text.secondary", children: "Location: San Jose" }), _jsx(Typography, { variant: "body2", color: "error.main", sx: { mt: 1.5 }, children: "Rented until Aug 15, 2023" }), _jsxs(Box, { sx: { display: 'flex', justifyContent: 'space-between', mt: 2 }, children: [_jsx(Button, { size: "small", startIcon: _jsx(Edit, {}), color: "primary", children: "Edit" }), _jsx(Button, { size: "small", startIcon: _jsx(Visibility, {}), color: "primary", children: "View details" })] })] })] }) })] })] }));
            case 'bookings':
                return (_jsxs(Paper, { elevation: 3, sx: { p: 3 }, children: [_jsx(Typography, { variant: "h5", sx: { mb: 3 }, children: "Booking Requests" }), _jsx(Box, { sx: { mb: 3 }, children: _jsxs(Stack, { direction: "row", spacing: 1, children: [_jsx(Button, { variant: "contained", size: "small", color: "primary", children: "All (3)" }), _jsx(Button, { variant: "outlined", size: "small", color: "inherit", children: "Pending (1)" }), _jsx(Button, { variant: "outlined", size: "small", color: "inherit", children: "Approved (1)" }), _jsx(Button, { variant: "outlined", size: "small", color: "inherit", children: "Completed (1)" })] }) }), _jsx(TableContainer, { children: _jsxs(Table, { children: [_jsx(TableHead, { children: _jsxs(TableRow, { sx: { bgcolor: 'grey.100' }, children: [_jsx(TableCell, { children: "Customer" }), _jsx(TableCell, { children: "Car" }), _jsx(TableCell, { children: "Dates" }), _jsx(TableCell, { children: "Amount" }), _jsx(TableCell, { children: "Status" }), _jsx(TableCell, { children: "Actions" })] }) }), _jsxs(TableBody, { children: [_jsxs(TableRow, { hover: true, children: [_jsxs(TableCell, { children: [_jsx(Typography, { variant: "body2", fontWeight: "medium", children: "John Smith" }), _jsxs(Box, { sx: { display: 'flex', alignItems: 'center' }, children: [_jsx(Typography, { variant: "caption", color: "text.secondary", children: "4.8" }), _jsx(Star, { sx: { fontSize: 12, color: 'warning.main', ml: 0.5, mr: 0.5 } }), _jsx(Typography, { variant: "caption", color: "text.secondary", children: "(10 rentals)" })] })] }), _jsxs(TableCell, { children: [_jsx(Typography, { variant: "body2", fontWeight: "medium", children: "Toyota Camry" }), _jsx(Typography, { variant: "caption", color: "text.secondary", children: "2023" })] }), _jsxs(TableCell, { children: [_jsx(Typography, { variant: "body2", children: "Aug 10 - Aug 17, 2023" }), _jsx(Typography, { variant: "caption", color: "text.secondary", children: "7 days" })] }), _jsx(TableCell, { children: _jsx(Typography, { variant: "body2", fontWeight: "medium", children: "$455.00" }) }), _jsx(TableCell, { children: _jsx(Chip, { label: "Pending", color: "warning", size: "small", variant: "outlined" }) }), _jsx(TableCell, { children: _jsxs(Stack, { direction: "row", spacing: 1, children: [_jsx(Button, { variant: "contained", size: "small", color: "success", startIcon: _jsx(Check, {}), children: "Approve" }), _jsx(Button, { variant: "contained", size: "small", color: "error", startIcon: _jsx(Cancel, {}), children: "Decline" })] }) })] }), _jsxs(TableRow, { hover: true, children: [_jsxs(TableCell, { children: [_jsx(Typography, { variant: "body2", fontWeight: "medium", children: "Emily Johnson" }), _jsxs(Box, { sx: { display: 'flex', alignItems: 'center' }, children: [_jsx(Typography, { variant: "caption", color: "text.secondary", children: "4.9" }), _jsx(Star, { sx: { fontSize: 12, color: 'warning.main', ml: 0.5, mr: 0.5 } }), _jsx(Typography, { variant: "caption", color: "text.secondary", children: "(5 rentals)" })] })] }), _jsxs(TableCell, { children: [_jsx(Typography, { variant: "body2", fontWeight: "medium", children: "Honda Civic" }), _jsx(Typography, { variant: "caption", color: "text.secondary", children: "2022" })] }), _jsxs(TableCell, { children: [_jsx(Typography, { variant: "body2", children: "Aug 5 - Aug 12, 2023" }), _jsx(Typography, { variant: "caption", color: "text.secondary", children: "7 days" })] }), _jsx(TableCell, { children: _jsx(Typography, { variant: "body2", fontWeight: "medium", children: "$385.00" }) }), _jsx(TableCell, { children: _jsx(Chip, { label: "Approved", color: "success", size: "small", variant: "outlined" }) }), _jsx(TableCell, { children: _jsx(Button, { variant: "contained", size: "small", color: "primary", startIcon: _jsx(Visibility, {}), children: "View Details" }) })] })] })] }) })] }));
            case 'earnings':
                return (_jsxs(Paper, { elevation: 3, sx: { p: 3 }, children: [_jsx(Typography, { variant: "h5", sx: { mb: 3 }, children: "Earnings Overview" }), _jsx(Box, { sx: { flexGrow: 1 }, children: _jsxs(Grid, { container: true, spacing: 3, children: [_jsx(Grid, { item: true, xs: 12, sm: 6, md: 4, children: _jsx(Card, { variant: "outlined", sx: { height: '100%' }, children: _jsxs(CardContent, { children: [_jsx(Typography, { variant: "h6", component: "div", children: "Total Earnings" }), _jsx(Typography, { variant: "h4", component: "div", children: "$2,450.00" }), _jsx(Typography, { variant: "body2", color: "text.secondary", sx: { mt: 1 }, children: "+15% from last month" })] }) }) }), _jsx(Grid, { item: true, xs: 12, sm: 6, md: 4, children: _jsx(Card, { variant: "outlined", sx: { height: '100%' }, children: _jsxs(CardContent, { children: [_jsx(Typography, { variant: "h6", component: "div", children: "This Month" }), _jsx(Typography, { variant: "h4", component: "div", children: "$850.00" }), _jsx(Typography, { variant: "body2", color: "text.secondary", sx: { mt: 1 }, children: "+5% from last month" })] }) }) }), _jsx(Grid, { item: true, xs: 12, sm: 6, md: 4, children: _jsx(Card, { variant: "outlined", sx: { height: '100%' }, children: _jsxs(CardContent, { children: [_jsx(Typography, { variant: "h6", component: "div", children: "Pending Payouts" }), _jsx(Typography, { variant: "h4", component: "div", children: "$350.00" }), _jsx(Button, { variant: "contained", size: "small", color: "primary", sx: { mt: 1 }, children: "Withdraw" })] }) }) })] }) }), _jsxs(Box, { sx: { mt: 3 }, children: [_jsx(Typography, { variant: "h6", component: "div", children: "Monthly Earnings" }), _jsx(Box, { component: "img", src: "https://via.placeholder.com/600x200", alt: "Chart", sx: { width: '100%', height: 200, objectFit: 'cover', mt: 2 } })] }), _jsxs(Box, { sx: { mt: 3 }, children: [_jsx(Typography, { variant: "h6", component: "div", children: "Earnings by Car" }), _jsx(TableContainer, { children: _jsxs(Table, { children: [_jsx(TableHead, { children: _jsxs(TableRow, { sx: { bgcolor: 'grey.100' }, children: [_jsx(TableCell, { children: "Car" }), _jsx(TableCell, { children: "Total Bookings" }), _jsx(TableCell, { children: "Total Days" }), _jsx(TableCell, { children: "Earnings" })] }) }), _jsxs(TableBody, { children: [_jsxs(TableRow, { hover: true, children: [_jsx(TableCell, { children: "Toyota Camry" }), _jsx(TableCell, { children: "12" }), _jsx(TableCell, { children: "45" }), _jsx(TableCell, { children: "$1,350.00" })] }), _jsxs(TableRow, { hover: true, children: [_jsx(TableCell, { children: "Honda Civic" }), _jsx(TableCell, { children: "8" }), _jsx(TableCell, { children: "32" }), _jsx(TableCell, { children: "$1,100.00" })] })] })] }) })] })] }));
            case 'maintenance':
                return (_jsxs(Paper, { elevation: 3, sx: { p: 3 }, children: [_jsx(Typography, { variant: "h5", sx: { mb: 3 }, children: "Car Maintenance Tracker" }), _jsxs(Box, { sx: { mb: 3 }, children: [_jsx(Typography, { variant: "h6", component: "div", children: "Upcoming Maintenance" }), _jsx(Button, { variant: "contained", size: "small", color: "primary", startIcon: _jsx(Add, {}), children: "Add Maintenance Task" })] }), _jsx(TableContainer, { children: _jsxs(Table, { children: [_jsx(TableHead, { children: _jsxs(TableRow, { sx: { bgcolor: 'grey.100' }, children: [_jsx(TableCell, { children: "Car" }), _jsx(TableCell, { children: "Service Type" }), _jsx(TableCell, { children: "Due Date" }), _jsx(TableCell, { children: "Status" }), _jsx(TableCell, { children: "Actions" })] }) }), _jsxs(TableBody, { children: [_jsxs(TableRow, { hover: true, children: [_jsx(TableCell, { children: "Toyota Camry" }), _jsx(TableCell, { children: "Oil Change" }), _jsx(TableCell, { children: "Jul 15, 2023" }), _jsx(TableCell, { children: _jsx(Chip, { label: "Upcoming", color: "warning", size: "small", variant: "outlined" }) }), _jsx(TableCell, { children: _jsxs(Stack, { direction: "row", spacing: 1, children: [_jsx(Button, { variant: "contained", size: "small", color: "primary", startIcon: _jsx(Edit, {}), children: "Edit" }), _jsx(Button, { variant: "contained", size: "small", color: "success", startIcon: _jsx(Check, {}), children: "Complete" })] }) })] }), _jsxs(TableRow, { hover: true, children: [_jsx(TableCell, { children: "Honda Civic" }), _jsx(TableCell, { children: "Tire Rotation" }), _jsx(TableCell, { children: "Jul 20, 2023" }), _jsx(TableCell, { children: _jsx(Chip, { label: "Upcoming", color: "warning", size: "small", variant: "outlined" }) }), _jsx(TableCell, { children: _jsxs(Stack, { direction: "row", spacing: 1, children: [_jsx(Button, { variant: "contained", size: "small", color: "primary", startIcon: _jsx(Edit, {}), children: "Edit" }), _jsx(Button, { variant: "contained", size: "small", color: "success", startIcon: _jsx(Check, {}), children: "Complete" })] }) })] })] })] }) }), _jsxs(Box, { sx: { mt: 3 }, children: [_jsx(Typography, { variant: "h6", component: "div", children: "Maintenance History" }), _jsx(TableContainer, { children: _jsxs(Table, { children: [_jsx(TableHead, { children: _jsxs(TableRow, { sx: { bgcolor: 'grey.100' }, children: [_jsx(TableCell, { children: "Car" }), _jsx(TableCell, { children: "Service Type" }), _jsx(TableCell, { children: "Date" }), _jsx(TableCell, { children: "Cost" }), _jsx(TableCell, { children: "Notes" })] }) }), _jsxs(TableBody, { children: [_jsxs(TableRow, { hover: true, children: [_jsx(TableCell, { children: "Toyota Camry" }), _jsx(TableCell, { children: "Oil Change" }), _jsx(TableCell, { children: "Jun 15, 2023" }), _jsx(TableCell, { children: "$45.00" }), _jsx(TableCell, { children: "Regular maintenance" })] }), _jsxs(TableRow, { hover: true, children: [_jsx(TableCell, { children: "Honda Civic" }), _jsx(TableCell, { children: "Brake Service" }), _jsx(TableCell, { children: "Jun 10, 2023" }), _jsx(TableCell, { children: "$120.00" }), _jsx(TableCell, { children: "Replaced front brake pads" })] })] })] }) })] })] }));
            default:
                return (_jsxs(Paper, { elevation: 3, sx: { p: 3 }, children: [_jsx(Typography, { variant: "h5", sx: { mb: 3 }, children: activeSection.charAt(0).toUpperCase() + activeSection.slice(1) }), _jsx(Typography, { variant: "body2", color: "text.secondary", children: "This section is under development." })] }));
        }
    };
    return (_jsxs(Box, { sx: { display: 'flex', minHeight: '100vh', bgcolor: 'background.default', mt: "15%" }, children: [_jsxs(Paper, { elevation: 3, sx: {
                    width: 240,
                    p: 3,
                    display: 'flex',
                    flexDirection: 'column',
                    borderRadius: 0
                }, children: [_jsxs(Box, { sx: { mb: 4 }, children: [_jsx(Typography, { variant: "h6", color: "primary", children: "Owner Dashboard" }), _jsxs(Typography, { variant: "body2", color: "text.secondary", children: ["Welcome back, ", user?.name] })] }), _jsx(List, { sx: { flexGrow: 1, mb: 2 }, children: sidebarItems.map((item) => (_jsxs(ListItemButton, { selected: activeSection === item.id, onClick: () => setActiveSection(item.id), sx: {
                                borderRadius: 1,
                                mb: 0.5,
                                bgcolor: activeSection === item.id ? 'primary.light' : 'transparent',
                                color: activeSection === item.id ? 'primary.main' : 'text.primary',
                            }, children: [_jsx(ListItemIcon, { sx: {
                                        color: activeSection === item.id ? 'primary.main' : 'text.secondary'
                                    }, children: item.icon }), _jsx(ListItemText, { primary: item.label })] }, item.id))) }), _jsx(Divider, { sx: { my: 2 } }), _jsx(Button, { variant: "text", color: "inherit", sx: { justifyContent: 'flex-start', py: 1 }, children: "Logout" })] }), _jsx(Box, { sx: { flexGrow: 1, p: 4, overflow: 'auto' }, children: renderContent() })] }));
};
export default OwnerDashboard;
